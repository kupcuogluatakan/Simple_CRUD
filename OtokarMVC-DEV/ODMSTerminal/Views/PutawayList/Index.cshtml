@using ODMSCommon.Resources
@using ODMSTerminal.Infrastructure.Utility
@model ODMSTerminal.Models.DeliverySearchModel
@{
    ViewBag.Title = MessageResource.Terminal_Putaway_Title_Index;
    ViewBag.WrapperCssClass = "wrapper-colored white-background";
    ViewBag.BodyCssClass = "primary";
    var list = ViewBag.DeliveryList as ODMSBusiness.Terminal.Common.ListResponse<ODMSBusiness.Terminal.DeliveryGoodsPlacement.Dtos.DeliveryListItem>;

}
@section header
{
    @Html.Partial("_subheader")
}
<div class="margin-3 pageContent">

    @using (Html.BeginForm("Index", "PutawayList", FormMethod.Post, new { id = "frm", pageId = 1 }))
    {
        <table border="0" cellspacing="1" width="100%" class="margin-top-3 readonly">
            <tbody>
                <tr>
                    <td class="bold stay-line">@MessageResource.Terminal_PutawayList_SAPDeliveryNo :</td>
                    <td width="60%">
                        @Html.TextBoxFor(c => c.SapDeliveryNo, new { @class = "text" })
                    </td>
                    <td class="last-child">&nbsp;</td>
                </tr>

                <tr>
                    <td class="bold stay-line">@MessageResource.Terminal_PutawayList_WaybillNo :</td>
                    <td width="60%">
                        @Html.TextBoxFor(c => c.WaybillNo, new { @class = "text" })
                    </td>
                    <td class="last-child">&nbsp;</td>
                </tr>

                <tr>
                    <td colspan="3" class="last-child"><input id="btnSearch" type="submit" class="btn btn-xs success margin-top-3" value="@MessageResource.Global_Display_Search"></td>
                </tr>

            </tbody>
        </table>
    }

    @if (list != null && list.Items.Any())
    {

        @Html.GeneratePagingLinks(list.PageInfo, "Index", "PutawayList")
        <table border="0" cellspacing="0" width="100%" class="margin-top-3 datatable">
            <thead>
                <tr class="pagination">
                    <th colspan="3">
                        @list.PageInfo.CurrentPage / @list.PageInfo.TotalPages
                    </th>
                    <th class="last-child">
                        @list.PageInfo.Total
                    </th>
                </tr>
                <tr>
                    <th>@MessageResource.Terminal_PutawayList_SAPDeliveryNo</th>
                    <th>@MessageResource.Terminal_PutawayList_WaybillDate</th>
                    <th>@MessageResource.Terminal_PutawayList_WaybillNo</th>
                    <th class="last-child">@MessageResource.Terminal_PutawayList_Sender</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in list.Items)
                {
                    <tr onclick="location.href = '@Url.Action("waybill", new {deliveryId = item.DeliveryId})';">
                        <td style="word-break: break-all">
                            @item.SapDeliveryNo &nbsp;
                    </td>
                        <td>@item.WaybillDate.FormatForView()</td>
                    <td style="word-break: break-all">@item.WaybillNo</td>
                    <td style="word-break: break-all" class="last-child">@item.Sender</td>
                </tr>
                }
            </tbody>
        </table>
    }
</div>
@section scripts
{
    <script>
        $(document).ready(function () {
            $('table.datatable tr:even').addClass('even');
            $('table.datatable tr:odd').addClass('odd');
            KS.Common.Focus("#SapDeliveryNo");
        });
    </script>

}
