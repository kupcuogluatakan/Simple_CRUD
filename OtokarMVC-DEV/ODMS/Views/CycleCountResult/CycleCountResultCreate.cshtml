@model ODMSModel.CycleCountResult.CycleCountResultViewModel
@{
    ViewBag.Title = CommonUtility.GetResourceValue("CycleCountResult_PageTitle_Create");
    Layout = "~/Views/Shared/Popup_Layout.cshtml";
}

 
@using (Html.BeginForm("CycleCountResultCreate", "CycleCountResult", FormMethod.Post))
{
    <div class="labelDiv">@Html.LabelFor(v => v.WarehouseName)</div>
    <div class="shortTxtDiv">@Html.Kendo().ComboBoxFor(v => v.WarehouseId).DataTextField("Text").DataValueField("Value").BindTo(ViewBag.WarehouseList as List<SelectListItem>).Placeholder(CommonUtility.GetResourceValue("Global_Display_Choose"))
        @Html.ValidationMessageFor(c => c.WarehouseId)
    </div>
    <div class="labelDiv">@Html.LabelFor(v => v.RackName)</div>
    <div class="shortTxtDiv">
        @Html.Kendo().ComboBoxFor(c => c.RackId).DataValueField("Value").DataTextField("Text").Placeholder(CommonUtility.GetResourceValue("Global_Display_Choose")).DataSource(source => source.Read(read => read.Action("ListRacks", "CycleCountResult").Data("GetWarehouseId")).ServerFiltering(true)).Enable(true).AutoBind(false).CascadeFrom("WarehouseId").SelectedIndex(0)
        @Html.ValidationMessageFor(v => v.RackId)
    </div>
    <div class="clearDiv">&nbsp;</div>
    <div class="labelDiv">@Html.LabelFor(v => v.StockCardName)</div>
    Html.RenderAction("AutocompleteSearch", "AutocompleteSearch", new { SearchType = "AllSparePart", ControlId = "StockCardId", Title1 = "", Title2 = "", DefaultText = "", DefaultValue = "" });
    @Html.ValidationMessageFor(v => v.StockCardId)
    <div class="clearDiv">&nbsp;</div>
    @Html.HiddenFor(v => v.CycleCountId)
    @ODMSHelpers.Button("Create", CommonUtility.GetResourceValue("Global_Display_Save"), CommonValues.PermissionCodes.CycleCountResult.CycleCountResultCreate, "CycleCountResultCreate")        
}

<script type="text/javascript">
    function GetWarehouseId() {
        return {
            id: $('#WarehouseId').val()
        };
    }
    $(document).ready(function () {
        if ($('#WarehouseId').val() == '') {
            $("#WarehouseId").data("kendoComboBox").text('');
            $("#RackId").data("kendoComboBox").text('');
        }

        $('form').each(function () {
            var validator = $(this).data('validator');
            if (validator && validator.settings) {
                validator.settings.ignore = "";
            }
        });      
    });
</script>

<style>
    #popupContentWrapper {
        min-height:100%;
    }

</style>
