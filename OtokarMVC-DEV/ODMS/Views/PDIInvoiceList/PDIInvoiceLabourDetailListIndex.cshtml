@using ODMSModel.PDIInvoice
@model PDIInvoiceLabourDetailListModel
@{
    ViewBag.Title = CommonUtility.GetResourceValue("PDIInvoiceLabourDetailList_PageTitle_Index");
    Layout = "~/Views/Shared/Popup_Layout.cshtml";
}
 
@Html.AntiForgeryToken()
<script>
    function InvoiceLabourDetailListSearch() {
        return {
            RefNo: $("#RefNo").val()
        };
    }
</script>
<br />
<div class="kendoGridDiv" id="grd">
    @Html.HiddenFor(e=>e.RefNo)
    @(Html.Kendo().Grid<PDIInvoiceLabourDetailListModel>()
          .Name("InvoiceLabourDetailGrid")
          .Columns(columns =>
              {
                  columns.Bound(p => p.RefNo).Width(30);
                  columns.Bound(p => p.PDIRecordNo).Width(30);
                  columns.Bound(p => p.VinNo).Width(70);
                  columns.Bound(p => p.MaintenanceDate).Format("{0:dd/MM/yyyy}").Width(80);
                  columns.Bound(p => p.MaintenanceCode).Width(50);
                  columns.Bound(p => p.Price).Format("{0:N2}").Width(70).HtmlAttributes(new { @style = "text-align:right" });
              })
          .Pageable()
          .Sortable()
          .Scrollable()

          .DataSource(dataSource => dataSource
                                        .Ajax()
                                        .PageSize(10)
                                        .ServerOperation(true)
                                        .Read(read => read.Action("ListPDIInvoiceLabourDetails", "PDIInvoiceList", Model).Data("InvoiceLabourDetailListSearch"))
                                        .Model(model => model.Field(o => o.RefNo).DefaultValue(-1)))

          )
</div>

