@model ODMSModel.VehicleBodyWorkProposal.VehicleBodyworkViewModelProposal
@{
    Layout = "~/Views/Shared/Popup_Layout.cshtml";
    //ViewBag.Title = ODMSCommon.Resources.MessageResource.VehicleBodywork_PageTitle_Create;
}

<script src="~/Scripts/jquery.maskedinput.js"></script>
<script src="~/Scripts/odms.objectsearch.js"></script>
 
@using (Html.BeginForm("UpdateVehicleBodyWork", "Proposal_Card", FormMethod.Post))
{
    <div class="labelDiv">@Html.LabelFor(v => v.VehicleId)</div>
    <div class="shortTxtDivObjectSearch">@Html.DisplayFor(p=>p.VehicleVinNo)</div>
    @Html.HiddenFor(p=>p.VehicleId)
    @Html.HiddenFor(p=>p.VehicleVinNo)
    <div class="clearDiv">&nbsp;</div>
    <div class="labelDiv">@Html.LabelFor(v => v.BodyworkCode)</div>
    <div class="shortTxtDiv">@Html.Kendo().ComboBoxFor(v => v.BodyworkCode).DataTextField("Text").DataValueField("Value").BindTo(ViewBag.BodyworkList as List<SelectListItem>).Placeholder(CommonUtility.GetResourceValue("Global_Display_Choose"))  @Html.ValidationMessageFor(v => v.BodyworkCode)</div> 
    <div class="clearDiv">&nbsp;</div>
    <div class="labelDiv">@Html.LabelFor(v => v.CountryName)</div>
    <div class="shortTxtDiv">@Html.Kendo().ComboBoxFor(v => v.CountryId).DataTextField("Text").DataValueField("Value").BindTo(ViewBag.CountryList as List<SelectListItem>).Placeholder(CommonUtility.GetResourceValue("Global_Display_Choose"))
        @Html.ValidationMessageFor(c => c.CountryId)
    </div>
    <div class="labelDiv">@Html.LabelFor(v => v.CityName)</div>
    <div class="shortTxtDiv">
        @Html.Kendo().ComboBoxFor(c => c.CityId).DataValueField("Value").DataTextField("Text").Placeholder(CommonUtility.GetResourceValue("Global_Display_Choose")).DataSource(source => source.Read(read => read.Action("ListCities", "VehicleBodyWork").Data("GetCountryId")).ServerFiltering(true)).Enable(false).AutoBind(false).CascadeFrom("CountryId") @Html.ValidationMessageFor(v => v.CityId)
    </div>
    <div class="clearDiv">&nbsp;</div>
    <div class="labelDiv">@Html.LabelFor(v => v.ProposalName)</div>
    <div class="shortTxtDiv">@Html.DisplayFor(p=>p.ProposalId)</div>
    @Html.HiddenFor(p=>p.ProposalId)
    
    <div class="clearDiv">&nbsp;</div>
    
    <div class="labelDiv">@Html.LabelFor(v => v.Manufacturer)</div>
    <div class="shortTxtDiv">@Html.TextBoxFor(v => v.Manufacturer)  @Html.ValidationMessageFor(v => v.Manufacturer) </div>   
    <div class="clearDiv">&nbsp;</div>
  
    @Html.HiddenFor(v => v.DealerId)
    @ODMSHelpers.Button("Create", CommonUtility.GetResourceValue("Global_Display_Save"), CommonValues.PermissionCodes.ProposalCard.ProposalCardUpdate, "VehicleBodyworkCreate")          

}
<script type="text/javascript">
    function GetCountryId() {
        return {
            countryId: $('#CountryId').val()
        };
    }
    function GetVehicleId() {
        return {
            vehicleId: $('#VehicleId').val(),
            dealerId: $('#DealerId').val(),
        };
    }
    $(document).ready(function () {
        if ($('#CityId').val() == '') {
            $("#CityId").data("kendoComboBox").text('');
            $("#BodyworkCode").data("kendoComboBox").text('');
            $("#CountryId").data("kendoComboBox").text('');
        }

        $('form').each(function () {
            var validator = $(this).data('validator');
            if (validator && validator.settings) {
                validator.settings.ignore = "";
            }
        });
    });


</script>


